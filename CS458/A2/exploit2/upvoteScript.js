function autoUpvote(content) { var aTags = document.querySelectorAll("a"); var foundTag; for (var i = aTags.length-1; i >=0; i--){ if (aTags[i].textContent === content){ foundTag = aTags[i]; break; } } var results = foundTag.getAttribute("href").match(/view\.php\?id=(\d+)/); var request = new XMLHttpRequest(); request.open('GET', "vote.php?id=" + results[1] + "&vote=1"); request.send(); } autoUpvote("SorryYouMustUpvote")